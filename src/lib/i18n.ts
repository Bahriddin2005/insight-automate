export type Lang = 'uz' | 'en';

const translations: Record<Lang, Record<string, string>> = {
  uz: {
    'app.title.ai': 'AI Smart',
    'app.title.dashboard': 'Dashboard',
    'app.subtitle': 'Jadvallaringizni aqlli analitik panellarga aylantiring — bir zumda.',
    'upload.drop': 'Faylingizni bu yerga tashlang yoki tanlash uchun bosing',
    'upload.formats': 'CSV, XLSX, XLS — 25MB gacha',
    'upload.sheet': 'Varaq',
    'upload.analyze': "Ma'lumotlarni tahlil qilish",
    'upload.analyzing': 'Tahlil qilinmoqda...',
    'upload.error.type': 'Iltimos, CSV, XLSX yoki XLS fayl yuklang.',
    'upload.error.size': 'Fayl hajmi 25MB dan oshmasligi kerak.',
    'kpi.totalRows': 'Jami qatorlar',
    'kpi.totalColumns': 'Jami ustunlar',
    'kpi.missing': "Yo'qolgan %",
    'kpi.duplicates': "O'chirilgan dublikatlar",
    'kpi.quality': 'Sifat bahosi',
    'kpi.dateRange': "Sana oralig'i",
    'insights.title': 'AI Tahlil',
    'insights.dataset': "Ma'lumotlar to'plami {rows} qator va {cols} ustundan iborat.",
    'insights.duplicates': '{count} dublikat qator aniqlandi va o\'chirildi.',
    'insights.qualityExcellent': "A'lo sifat bahosi: {score}/100.",
    'insights.qualityGood': 'Yaxshi sifat bahosi: {score}/100.',
    'insights.qualityLow': "Sifat bahosi {score}/100 — ma'lumotlar muammolarini ko'rib chiqing.",
    'insights.topValue': '"{col}" ustunida eng ko\'p qiymat "{val}" — {count} marta.',
    'insights.highMissing': "{count} ustun(lar)da >20% yo'qolgan qiymatlar: {cols}.",
    'insights.numRange': '"{col}" {min} dan {max} gacha ({avg} o\'rtacha).',
    'insights.outliers': '{total} potentsial og\'ish {count} raqamli ustun(lar)da aniqlandi.',
    'insights.dateRange': "Sana oralig'i: {min} dan {max} gacha.",
    'filters.button': 'Filtrlar',
    'filters.all': 'Barchasi',
    'filters.clear': 'Tozalash',
    'table.search': 'Qatorlarni qidirish...',
    'table.rows': 'qator',
    'table.page': 'Sahifa',
    'table.of': '/',
    'chart.topValues': 'Eng ko\'p qiymatlar',
    'chart.distribution': 'Taqsimlanish',
    'chart.overTime': 'Vaqt bo\'yicha',
    'chart.breakdown': 'Taqsimot',
    'chart.missing': "Yo'qolgan qiymatlar (%)",
    'chart.noData': 'Grafik yaratish uchun mos ustunlar topilmadi.',
    'chart.boxplot': 'Boxplot — Taqsimot va Og\'ishlar',
    'chart.customize': 'Grafik sozlash',
    'chart.type': 'Grafik turi',
    'chart.bar': 'Ustunli',
    'chart.line': 'Chiziqli',
    'chart.pie': 'Doira',
    'chart.area': 'Maydon',
    'chart.xAxis': "X o'qi",
    'chart.yAxis': "Y o'qi",
    'chart.aggregation': 'Jamlash usuli',
    'chart.count': 'Soni',
    'chart.sum': "Yig'indi",
    'chart.avg': "O'rtacha",
    'chart.min': 'Min',
    'chart.max': 'Maks',
    'chart.add': "Grafik qo'shish",
    'chart.remove': "O'chirish",
    'chart.custom': 'Maxsus grafiklar',
    'chart.selectCol': 'Ustun tanlang',
    'sessions.title': 'Oldingi sessiyalar',
    'sessions.empty': "Hali sessiya yo'q",
    'sessions.quality': 'Sifat',
    'sessions.rows': 'qator',
    'ai.summary': 'AI Xulosa',
    'ai.generate': 'AI xulosa yaratish',
    'ai.generating': 'Yaratilmoqda...',
    'ai.noSummary': 'Xulosa hali yaratilmagan',
    'ai.error': 'Xulosa yaratishda xatolik yuz berdi.',
    'header.newAnalysis': 'Yangi tahlil',
    'header.quality': 'Sifat',
    'count': 'Soni',
    'preview.title': "Ma'lumotlar ko'rinishi",
    'preview.showing': '{count} qator ko\'rsatilmoqda',
    'preview.moreColumns': '+{count} ustun',
    'chart.correlation': 'Korrelyatsiya matritsasi',
    'filters.dateRange': "Sana oralig'i",
    'filters.from': 'Dan',
    'filters.to': 'Gacha',
    'filters.numericRange': "Raqam oralig'i",
    'auth.login': 'Kirish',
    'auth.signup': "Ro'yxatdan o'tish",
    'auth.email': 'Email',
    'auth.password': 'Parol',
    'auth.fullName': "To'liq ism",
    'auth.loginSubtitle': 'Hisobingizga kiring',
    'auth.signupSubtitle': 'Yangi hisob yarating',
    'auth.noAccount': "Hisobingiz yo'qmi? Ro'yxatdan o'ting",
    'auth.hasAccount': "Hisobingiz bormi? Kiring",
    'auth.signupSuccess': "Muvaffaqiyatli ro'yxatdan o'tdingiz!",
    'auth.logout': 'Chiqish',
    'save.dashboard': 'Saqlash',
    'save.name': 'Dashboard nomi',
    'save.public': 'Ommaviy',
    'save.private': 'Maxfiy',
    'save.saved': 'Saqlandi!',
    'save.copyLink': 'Havolani nusxalash',
    'save.copied': 'Nusxalandi!',
    'save.myDashboards': 'Mening dashboardlarim',
    'auth.forgotPassword': 'Parolni unutdingizmi?',
    'auth.resetPassword': 'Parolni tiklash',
    'auth.newPassword': 'Yangi parol',
    'auth.confirmPassword': 'Parolni tasdiqlang',
    'auth.sendReset': 'Tiklash havolasini yuborish',
    'auth.resetSent': 'Tiklash havolasi emailga yuborildi!',
    'auth.passwordUpdated': 'Parol muvaffaqiyatli yangilandi!',
    'auth.backToLogin': 'Kirishga qaytish',
    'dashboards.title': 'Mening dashboardlarim',
    'dashboards.empty': "Hali saqlangan dashboard yo'q",
    'dashboards.open': 'Ochish',
    'dashboards.delete': "O'chirish",
    'dashboards.confirmDelete': "O'chirishni tasdiqlaysizmi?",
    'dashboards.created': 'Yaratilgan',
    'agent.title': 'AI Tahlilchi',
    'agent.placeholder': "Ma'lumotlar haqida savol bering...",
    'agent.send': 'Yuborish',
    'agent.thinking': "O'ylayapman...",
    'agent.welcome': "Salom! Men sizning ma'lumotlar tahlilchingizman. Savol bering.",
    'code.title': 'Kod ko\'rinishi',
    'code.copy': 'Nusxalash',
    'code.download': 'Yuklab olish',
    'report.title': 'Tozalash hisoboti',
    'report.exportPackage': 'Eksport paketi',
    'report.beforeRows': 'Oldingi qatorlar',
    'report.afterRows': 'Keyingi qatorlar',
    'report.qualityScore': 'Sifat bahosi',
    'report.parsingErrors': 'Tahlil xatolari',
    'report.trimmed': 'Boʻshliqlar olib tashlandi',
    'report.duplicatesRemoved': 'Dublikatlar olib tashlandi',
    'report.numericConverted': 'Raqamlar konvertatsiya qilindi',
    'report.datesParsed': 'Sanalar tahlil qilindi',
    'report.missingFilled': 'Yoʻqolgan qiymatlar toʻldirildi',
    'report.outliersDetected': 'Ogʻishlar aniqlandi',
    'report.columns': 'ustun',
    'report.inColumns': 'ustunda',
  },
  en: {
    'app.title.ai': 'AI Smart',
    'app.title.dashboard': 'Dashboard',
    'app.subtitle': 'Transform your spreadsheets into intelligent analytics dashboards — instantly.',
    'upload.drop': 'Drop your file here or click to browse',
    'upload.formats': 'CSV, XLSX, XLS — up to 25MB',
    'upload.sheet': 'Sheet',
    'upload.analyze': 'Analyze Dataset',
    'upload.analyzing': 'Analyzing...',
    'upload.error.type': 'Please upload a CSV, XLSX, or XLS file.',
    'upload.error.size': 'File exceeds 25MB limit.',
    'kpi.totalRows': 'Total Rows',
    'kpi.totalColumns': 'Total Columns',
    'kpi.missing': 'Missing %',
    'kpi.duplicates': 'Duplicates Removed',
    'kpi.quality': 'Quality Score',
    'kpi.dateRange': 'Date Range',
    'insights.title': 'AI Insights',
    'insights.dataset': 'Dataset contains {rows} rows across {cols} columns.',
    'insights.duplicates': '{count} duplicate rows were detected and removed.',
    'insights.qualityExcellent': 'Excellent data quality score of {score}/100.',
    'insights.qualityGood': 'Good data quality score of {score}/100.',
    'insights.qualityLow': 'Data quality score is {score}/100 — consider reviewing data issues.',
    'insights.topValue': 'Top value in "{col}" is "{val}" with {count} occurrences.',
    'insights.highMissing': '{count} column(s) have >20% missing values: {cols}.',
    'insights.numRange': '"{col}" ranges from {min} to {max} (avg: {avg}).',
    'insights.outliers': '{total} potential outliers detected across {count} numeric column(s).',
    'insights.dateRange': 'Date range spans from {min} to {max}.',
    'filters.button': 'Filters',
    'filters.all': 'All',
    'filters.clear': 'Clear',
    'table.search': 'Search rows...',
    'table.rows': 'rows',
    'table.page': 'Page',
    'table.of': '/',
    'chart.topValues': 'Top Values',
    'chart.distribution': 'Distribution',
    'chart.overTime': 'Over Time',
    'chart.breakdown': 'Breakdown',
    'chart.missing': 'Missing Values (%)',
    'chart.noData': 'No suitable columns detected for chart generation.',
    'chart.boxplot': 'Boxplot — Distribution & Outliers',
    'chart.customize': 'Customize Charts',
    'chart.type': 'Chart Type',
    'chart.bar': 'Bar',
    'chart.line': 'Line',
    'chart.pie': 'Pie',
    'chart.area': 'Area',
    'chart.xAxis': 'X Axis',
    'chart.yAxis': 'Y Axis',
    'chart.aggregation': 'Aggregation',
    'chart.count': 'Count',
    'chart.sum': 'Sum',
    'chart.avg': 'Average',
    'chart.min': 'Min',
    'chart.max': 'Max',
    'chart.add': 'Add Chart',
    'chart.remove': 'Remove',
    'chart.custom': 'Custom Charts',
    'chart.selectCol': 'Select column',
    'sessions.title': 'Past Sessions',
    'sessions.empty': 'No sessions yet',
    'sessions.quality': 'Quality',
    'sessions.rows': 'rows',
    'ai.summary': 'AI Summary',
    'ai.generate': 'Generate AI Summary',
    'ai.generating': 'Generating...',
    'ai.noSummary': 'No summary generated yet',
    'ai.error': 'Failed to generate summary.',
    'header.newAnalysis': 'New Analysis',
    'header.quality': 'Quality',
    'count': 'Count',
    'preview.title': 'Data Preview',
    'preview.showing': 'Showing {count} rows',
    'preview.moreColumns': '+{count} more columns',
    'chart.correlation': 'Correlation Matrix',
    'filters.dateRange': 'Date Range',
    'filters.from': 'From',
    'filters.to': 'To',
    'filters.numericRange': 'Numeric Range',
    'auth.login': 'Sign In',
    'auth.signup': 'Sign Up',
    'auth.email': 'Email',
    'auth.password': 'Password',
    'auth.fullName': 'Full Name',
    'auth.loginSubtitle': 'Sign in to your account',
    'auth.signupSubtitle': 'Create a new account',
    'auth.noAccount': "Don't have an account? Sign up",
    'auth.hasAccount': 'Already have an account? Sign in',
    'auth.signupSuccess': 'Account created successfully!',
    'auth.logout': 'Sign Out',
    'save.dashboard': 'Save',
    'save.name': 'Dashboard name',
    'save.public': 'Public',
    'save.private': 'Private',
    'save.saved': 'Saved!',
    'save.copyLink': 'Copy Link',
    'save.copied': 'Copied!',
    'save.myDashboards': 'My Dashboards',
    'auth.forgotPassword': 'Forgot password?',
    'auth.resetPassword': 'Reset Password',
    'auth.newPassword': 'New Password',
    'auth.confirmPassword': 'Confirm Password',
    'auth.sendReset': 'Send Reset Link',
    'auth.resetSent': 'Reset link sent to your email!',
    'auth.passwordUpdated': 'Password updated successfully!',
    'auth.backToLogin': 'Back to login',
    'dashboards.title': 'My Dashboards',
    'dashboards.empty': 'No saved dashboards yet',
    'dashboards.open': 'Open',
    'dashboards.delete': 'Delete',
    'dashboards.confirmDelete': 'Are you sure you want to delete?',
    'dashboards.created': 'Created',
    'agent.title': 'AI Analyst',
    'agent.placeholder': 'Ask a question about your data...',
    'agent.send': 'Send',
    'agent.thinking': 'Thinking...',
    'agent.welcome': "Hello! I'm your data analyst. Ask me anything about your dataset.",
    'code.title': 'Code View',
    'code.copy': 'Copy',
    'code.download': 'Download',
    'report.title': 'Cleaning Report',
    'report.exportPackage': 'Export Package',
    'report.beforeRows': 'Before Rows',
    'report.afterRows': 'After Rows',
    'report.qualityScore': 'Quality Score',
    'report.parsingErrors': 'Parsing Errors',
    'report.trimmed': 'Whitespace trimmed',
    'report.duplicatesRemoved': 'Duplicates removed',
    'report.numericConverted': 'Numeric converted',
    'report.datesParsed': 'Dates parsed',
    'report.missingFilled': 'Missing values filled',
    'report.outliersDetected': 'Outliers detected',
    'report.columns': 'columns',
    'report.inColumns': 'in columns',
  },
};

export function t(lang: Lang, key: string, params?: Record<string, string | number>): string {
  let str = translations[lang]?.[key] || translations.en[key] || key;
  if (params) {
    Object.entries(params).forEach(([k, v]) => {
      str = str.replace(`{${k}}`, String(v));
    });
  }
  return str;
}
